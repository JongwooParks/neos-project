<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>NEOS | 스터디 상세보기</title>
    <link rel="stylesheet" href="/css/study/studyManagement.css">
    <link rel="stylesheet" href="/css/study/studyModal.css">
    <link rel="stylesheet" href="/css/fix/header.css">
    <link rel="stylesheet" href="/css/fix/loginHeader.css">
    <link rel="stylesheet" href="/css/fix/chatting.css">
    <link rel="icon" type="image/x-icon" href="/images/fix/favicon.png">
</head>
<style>

    .modalWrapOpen .modalWrap .btnWrap form{
        width: 100%;
        display: flex;
    }
    .modalWrapOpen .modalWrap .btnWrap form button.whiteBtn {
        border: 1px solid #1A7CFF;
        color: #1A7CFF;
        background-color: #fff;
    }
    .modalWrapOpen .modalWrap .btnWrap.doubleBtnWrap form button {
        height: 44px;
        width: 49%;
        border: none;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        font-size: .75rem;
        padding: 0;
        border-radius: 4px;
    }
    .letspler_Re .top .profileTxt .idWrap .userLv {
        width: 23px;
        height: 23px;
        object-fit: cover;
        margin-right: 8px;
    }
</style>
<body>
<script th:inline="javascript">
    const userId = [[${session.loginUser}]];
    const studyOwner = [[${study.userId}]]
    if(!userId){
        alert("로그인 후 이용 가능한 서비스입니다.")
        location.href="/study/list";
    }

    if(userId != studyOwner){
        alert("비정상적인 접근입니다..")
        location.href="/study/list";
    }
</script>
    <header th:replace="/app/fix/header.html :: header"></header>
    <!-- 관리 페이지 START-->
    <div id="_next" th:object="${study}">
        <section>
            <div class="projectPageHeaderWrap">
                <div class="projectPurposeWrap">
                    <div>
                        <h2 class="rightTxt">스터디</h2>
                    </div>
                </div>
                <div class="projectPageHeaderContent">
                    <h2 class="projectTit" th:text="*{studyTitle}"></h2>
                    <li class="projectLeaderWrap">
                        <div class="userIdWrap">
                            <div class="leaderImg"><a th:href="@{/neosUser/info/yes(userId=${writer.userId})}"><img width="20px"
                                                                    height="20px"
                                                                    th:src="${writer.userFile}"
                                                                    alt="추추추"></a></div>
                            <div class="rightTxt userId">
                                <h2 class="userIdTxt" th:text="*{userNickName}"></h2><span class="confirmPhoneTxt">(대학교 인증)</span>
                                <div class="idHoverMenu">
                                    <ul>
                                        <li><a th:href="@{/neosUser/info/yes(userId=${writer.userId})}">프로필 상세</a></li>
                                        <li class="chatTop"><a>1:1 대화</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                    <div class="statusTagWrap">
                        <th:block th:if="*{StudyRecruitStatus.toString() == 'RECRUITING'}">
                            <span class="statusTag gray">모집 중</span>
                        </th:block>
                        <th:block th:unless="*{StudyRecruitStatus.toString() == 'RECRUITING'}">
                            <span class="statusTag white">모집완료</span>
                        </th:block>
                        <th:block th:if="${session.loginUser == study.userId}">
                            <div class="modifyBtn" style="cursor: pointer"><a th:href="@{/study/management/{id}(id=${study.studyId})}"><img loading="lazy"
                                                                                                                                            src="https://letspl.me/assets/images/ic-profile-modify.png"
                                                                                                                                            alt="수정버튼" style="vertical-align: middle;"></a></div>
                        </th:block>
                    </div>
                </div>
            </div>
            <div class="projectPageWrap">
                <div class="projectDetailContents contents">
                    <div class="projectTabMenu clearfix">
                        <ul>
                            <li><a name="#info" class="" th:href="@{/study/list/{id}(id=${study.studyId})}">정보</a></li>
                            <li><a name="question" class="" th:href="@{/study/question/{id}(id=${study.studyId})}">질문(&nbsp<span th:text="${questions.size()}"></span><span>&nbsp)</span>
                            <th:block th:if="${#arrays.contains(memberList,session.loginUser)}">
                                <li><a name="work" class="" th:href="@{/study/work/{id}(id=${study.studyId})}">일감</a></li>
                                <li><a name="feed" class="" th:href="@{/study/feed/{id}(id=${study.studyId})}">피드</a></li>
                            </th:block>
                            <th:block th:unless="${#arrays.contains(memberList,session.loginUser)}">
                                <li><a name="work" class="disabled">일감</a></li>
                                <li><a name="feed" class="disabled">피드</a></li>
                            </th:block>
                            <li><a name="mgmt" class="active">관리</a></li>
                        </ul>
                    </div>
                    <!-- project detail wrap START -->

                    <div class="projectDetailWrap">
                        <div class="projectTab projectManagementContents active">
                            <div class="workTabMenu" style="margin-top: 15px;">
                                <ul>
                                    <li class="memberMag active"><a>멤버 관리</a></li>
                                    <li class="contentsMag"><a>정보 관리</a></li>
                                </ul>
                            </div>
                            <!-------- 멤버관리 DIV -------->
                            <div class="memberManagementTab active">
                                <th:block th:if="${study.StudyRecruitStatus.toString()=='RECRUITING'}">
                                <div class="section applicantSection">
                                    <th:block th:if="${supporter.size() == 0 }">
                                        <h3>지원자 현황</h3>
                                        <div class="emptyApply">현재 지원자가 없습니다.</div>
                                    </th:block>
                                    <th:block th:unless="${supporter.size() == 0}">
                                        <h3>지원자 현황</h3>
                                        <div class="projectMemberList">
                                            <th:block th:each="people : ${supporter}" th:object="${people}">
                                                <li class="letspler_Re">
                                                    <div class="top">
                                                        <div class="profilePicWrap">
                                                            <div class="profilePic">
                                                                <img loading="lazy" th:src="*{user.userFile}">
                                                            </div>

                                                            <a class="favorite favoriteUser"></a>
                                                        </div>
                                                        <div class="profileTxt">
                                                            <div class="idWrap"><img loading="lazy" class="userLv"
                                                                                     th:src="*{user.userNeosBadge}"
                                                                                     alt="렛플렙">
                                                                <h2 class="userName" >
                                                                    <span th:text="*{user.userNickName}"></span>
                                                                    <ul class="idHoverMenu">
                                                                        <input type="hidden" name="userId" class="userId_1jasd" th:value="*{user.userId}">
                                                                        <input type="hidden" name="supportId" class="supportId_1jasd" th:value="*{studySupporterId}">
                                                                        <li><a th:href="@{/neosUser/info/yes(userId=${people.user.userId})}">프로필 상세</a></li>
                                                                        <li class="managementBtn"><a>1:1 대화</a></li>
                                                                        <li class="memberJoinBtn"><a>승인</a></li>
                                                                        <li class="rejection"><a>거절</a></li>
                                                                    </ul>
                                                                </h2>
                                                            </div>
                                                            <div class="coffeAndHeart">
                                                                <div><img loading="lazy" src="/images/neosUser/chatting-icon.png"
                                                                          alt="커피 포인트"><span th:text="*{user.userChattingPoint}"></span></div>
                                                                <div><img loading="lazy" src="https://letspl.me/assets/images/ico_like.png"
                                                                          alt="구독자 수"
                                                                          style="width: 20px; height: 20px;"><span>0</span></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="bottom">
                                                        <ul class="userFavorite">
                                                            <li><h2><span>[대학교]&nbsp</span>
                                                                <span style="margin-left: 0px;font-size: 14px;color: #333;font-weight: 400;" th:text="*{user.collegeName}"></span>
                                                                <span style="font-size: 14px;color: #999;margin-left: 10px; font-weight: 400;" th:text="*{user.userCollegeYear}"></span>
                                                                <span style="font-size: 14px;color: #999;font-weight: 400;">학년</span></h2></li>
                                                            <li><h2><span> [전공]</span><span style="color:#333" th:text="*{user.userCollegeMajor.toString()}"></span><span></span></h2></li>
                                                        </ul>
                                                        <div class="candidateWrap">
                                                            <br>
                                                            <p class="ingProjectTxt2"><span>지원일 : &nbsp</span><span th:text="*{createdDate}"></span></p>
                                                            <p class="ingProjectTxt2">
                                                                <span>[이메일] &nbsp</span><span th:text="*{user.userCollegeEmail}"></span>
                                                            </p>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </li>
                                            </th:block>
                                        </div>
                                        <div class="section nowMemberSection">
                                            <p class="listTit2">* <strong>닉네임을 클릭해보세요.</strong>
                                                <br><span style="color: #1A7CFF;">(거절 시 재지원이 불가능합니다.)</span></p>
                                        </div>
                                    </th:block>
                                    <!--지원자 없는 경우-->

                                </div>
                                </th:block>
                                <!-- 지원자 있는 경우 -->
                                <div class="section nowMemberSection">
                                    <h3>현재 스터디 멤버 <span>/ 총</span><span th:text="*{studyMemberList.size()}"></span><span>명</span></h3>
                                    <p class="listTit">리더</p>
                                    <div class="projectMemberList" th:object="${writer}">
                                        <li class="letspler_Re">
                                            <div class="top">
                                                <div class="profilePicWrap">
                                                    <div class="profilePic">
                                                        <img th:src="*{userFile}"></div>
                                                    <a class="favorite favoriteUser"></a>
                                                </div>
                                                <div class="profileTxt">
                                                    <div class="idWrap"><img loading="lazy" class="userLv"
                                                                             th:src="*{userNeosBadge}"
                                                                             alt="lv">
                                                        <h2 class="userName"><span th:text="*{userNickName}"></span>
                                                            <ul class="idHoverMenu">
                                                                <li><a th:href="@{/neosUser/info/yes(userId=${writer.userId})}">프로필 상세</a></li>
                                                            </ul>
                                                        </h2>
                                                    </div>
                                                    <div class="coffeAndHeart">
                                                        <div><img loading="lazy"
                                                                  src="/images/neosUser/chatting-icon.png"
                                                                  alt="coffeePoint"><span th:text="*{userChattingPoint}"></span></div>
                                                        <div><img loading="lazy"
                                                                  src="https://letspl.me/assets/images/ico_like.png"
                                                                  alt="coffeePoint"
                                                                  style="width: 20px; height: 20px;"><span>0</span></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="bottom">
                                                <ul class="userFavorite">
                                                    <li>
                                                        <h2><span>[대학교]&nbsp</span>
                                                    <span style="margin-left: 0px;font-size: 14px;color: #333;font-weight: 400;" th:text="*{collegeName}"></span>
                                                    <span style="font-size: 14px;color: #999;margin-left: 10px; font-weight: 400;" th:text="*{userCollegeYear}"></span>
                                                    <span style="font-size: 14px;color: #999;font-weight: 400;">학년</span></h2>
                                                    </li>
                                                    <li>
                                                        <h2><span> [전 공]</span><span style="color:#333" th:text="*{userCollegeMajor.toString()}"></span><span></span></h2>
                                                    </li>
                                                    <li>
                                                        <h2><span> [이메일]</span><span style="color:#333;font-size: 11px" th:text="*{userCollegeEmail}"></span><span></span></h2>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li>
                                    </div>
                                </div>
                                <div class="section nowMemberSection">
                                    <p class="listTit">멤버</p>
                                    <div class="projectMemberList">
                                        <th:block th:each="member : *{studyMemberList}" th:object="${member}">
                                            <li class="letspler_Re">
                                                <div class="top">
                                                    <div class="profilePicWrap">
                                                        <div class="profilePic">
                                                            <img loading="lazy" th:src="*{userDTO.userFile}">
                                                        </div>
                                                        <a class="favorite favoriteUser"></a>
                                                    </div>
                                                    <div class="profileTxt">
                                                        <div class="idWrap"><img loading="lazy" class="userLv"
                                                                                 th:src="*{userDTO.userNeosBadge}"
                                                                                 alt="lv">
                                                            <h2 class="userName"><span th:text="*{userDTO.userNickName}"></span>
                                                                <ul class="idHoverMenu">
                                                                    <input type="hidden" class="userId_1jasd" th:value="*{userDTO.userId}">
                                                                    <input type="hidden" class="memberId_1jasd" th:value="*{studyMemberId}">
                                                                    <li><a  th:href="@{/neosUser/info/yes(userId=${member.userDTO.userId})}">프로필 상세</a>
                                                                    </li>
                                                                    <li class="releaseBtn"><a>스터디 방출</a></li>
                                                                </ul>
                                                            </h2>
                                                        </div>
                                                        <div class="coffeAndHeart">
                                                            <div><img loading="lazy"
                                                                      src="/images/neosUser/chatting-icon.png"
                                                                      alt="coffeePoint"><span th:text="*{userDTO.userChattingPoint}"></span></div>
                                                            <div><img loading="lazy"
                                                                      src="https://letspl.me/assets/images/ico_like.png"
                                                                      alt="coffeePoint"
                                                                      style="width: 20px; height: 20px;"><span>0</span></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="bottom">
                                                    <ul class="userFavorite">
                                                        <li>
                                                            <h2><span>[대학교]&nbsp</span>
                                                                <span style="margin-left: 0px;font-size: 14px;color: #333;font-weight: 400;" th:text="*{userDTO.collegeName}"></span>
                                                                <span style="font-size: 14px;color: #999;margin-left: 10px; font-weight: 400;" th:text="*{userDTO.userCollegeYear}"></span>
                                                                <span style="font-size: 14px;color: #999;font-weight: 400;">학년</span></h2>
                                                        </li>
                                                        <li>
                                                            <h2><span> [전 공]</span><span style="color:#333" th:text="*{userDTO.userCollegeMajor.toString()}"></span><span></span></h2>
                                                        </li>
                                                        <li>
                                                            <h2><span> [이메일]</span><span style="color:#333;font-size: 11px" th:text="*{userDTO.userCollegeEmail}"></span><span></span></h2>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </li>
                                        </th:block>
                                    </div>
                                </div>
                                <div class="section nowMemberSection">
                                    <p class="listTit3">인원 설정 (<span th:text="*{studyMemberList.size()}"></span><span>/</span><span th:text="*{studySupport}"></span>)</p>
                                    <div class="section nowMemberSection">
                                        <p class="listTit2"><!--* 미지정/역할명을 눌러 담당자 변경통해 멤버를 지정하세요.<br>--><span
                                                style="color: #1A7CFF;">추가모집은 <strong>"인원 추가"</strong> / 공고를
                                                    내릴 땐 <strong>"모집 종료"</strong>를 선택하세요</span></p>
                                    </div>

                                    <th:block th:if="*{studySupport < 9}">
                                        <button class="blackBtn addBtn" style="margin-right: 10px;">인원 추가</button>
                                    </th:block>
                                    <th:block th:if="*{StudyRecruitStatus.toString() == 'RECRUITING'}">
                                        <button class="blackBtn endBtn" >모집 종료</button>
                                    </th:block>

                                </div>
                            </div>

                            <!-------- 정보 관리 DIV -------->

                            <div class="projectMangementTab buildProjectContents">
                                <div class="question">
                                    <p>- 스터디 주제</p>
                                </div>
                                <form th:action="@{/study/update(studyId=${study.studyId})}" method="post" id="updateForm">
                                <div class="answer">
                                    <ul>
                                        <li>
                                            <div class="inputWrap projectTitle row"><input class="studyTitleInput" name="studyTitle"
                                                    placeholder="3~30글자로 적어주세요 예)유체역학 : 레이놀드 수송이론" maxlength="30"
                                                    th:value="*{studyTitle}"></div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="alimTalkCheckBox">
                                    <div class="projectMotiveSettingWrap">
                                        <div class="question">
                                            <p>- 상태변경<span class="" for="">&nbsp;스터디 완료는 시작일로부터 30일 이후부터 설정이
                                                        가능합니다</span></p>
                                        </div>
                                        <div class="answer"><select name="studyStatus">

                                            <option value="PROCEEDING" th:selected="*{studyStatus.toString() eq 'READY'} ">진행 중</option>
                                            <option value="FINISH" th:selected="*{studyStatus.toString() eq 'FINISH'}">스터디 완료</option>

                                        </select></div>
                                    </div>
                                </div>

                                <div class="question">
                                    <p>- 완료 예정일</p>
                                </div>
                                <div class="answer answer5">
                                    <div class="projectMettingPlaceSettingWrap">
                                        <div class="selectWrap">
                                            <div class="SingleDatePicker SingleDatePicker_1">
                                                <div>
                                                    <div
                                                            class="SingleDatePickerInput SingleDatePickerInput_1 SingleDatePickerInput__withBorder SingleDatePickerInput__withBorder_2">
                                                        <div class="DateInput DateInput_1"><input
                                                                class="DateInput_input DateInput_input_1"
                                                                aria-label="Date" type="date" id="date_input"
                                                                name="date_input" placeholder="Date" autocomplete="off"
                                                                aria-describedby="DateInput__screen-reader-message-date_input"
                                                                th:value="*{studyEndDate}">
                                                            <p class="DateInput_screenReaderMessage DateInput_screenReaderMessage_1"
                                                               id="DateInput__screen-reader-message-date_input">
                                                                Navigate forward to interact with the calendar and
                                                                select a date. Press the question mark key to get the
                                                                keyboard shortcuts for changing dates.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="question">
                                    <p>- 스터디 분야/키워드</p>
                                </div>
                                <div class="answer">
                                    <div>
                                        <div class="inputWrap studyTitle row">
                                            <select id="studySubjectSelect" name="studyType">
                                                    <option value="전공" th:selected="*{studyType eq '전공'}">전공 과목</option>
                                                    <option value="교양" th:selected="*{studyType eq '교양'}">교양 과목</option>
                                                    <option value="공통" th:selected="*{studyType eq '공통'}">공통 과목</option>
                                            </select>
                                        </div>
                                        <div class="answer">
                                            <input type="text" class="studyKeywordInput" id="studySubject2" placeholder="예) 재료역학, 수리역학, 철근콘크리트, 강구조설계"
                                                   name="studyKeyword"
                                                   minlength="3"
                                                   maxlength="20" autocomplete="off" th:value="*{studyKeyword}">
                                        </div>
                                    </div>
                                </div>
                                <div class="question">
                                    <p>- 지역</p>
                                </div>
                                <div class="answer answer5">
                                    <div class="projectMettingPlaceSettingWrap">
                                        <div class="selectWrap">
                                            <select name="studyO2o" id="studyO2o">
                                                <th:block>
                                                <option value="all" th:selected="${study.studyO2o eq 'all'}">온라인/오프라인 모두 가능</option>
                                                <option value="online" th:selected="${study.studyO2o eq 'online'}">온라인만 가능</option>
                                                <option value="offline" th:selected="${study.studyO2o eq 'offline'}">오프라인만 가능</option>
                                                </th:block>
                                            </select>
                                            <select name="studyCity" id="studyCity" th:disabled="*{studyCity eq 'no'}">
                                                <option th:value="all"  th:selected="*{'all' eq studyCity}" >지역 상관없음</option>
                                                <option th:value="서울특별시"  th:selected="*{'서울특별시' eq studyCity}" >서울특별시</option>
                                                <option th:value="경기도"  th:selected="*{'경기도' eq studyCity}" >경기도</option>
                                                <option th:value="부산광역시"  th:selected="*{'부산광역시' eq studyCity}" >부산광역시</option>
                                                <option th:value="인천광역시"  th:selected="*{'인천광역시' eq studyCity}" >인천광역시</option>
                                                <option th:value="대구광역시"  th:selected="*{'대구광역시' eq studyCity}" >대구광역시</option>
                                                <option th:value="경상남도"  th:selected="*{'경상남도' eq studyCity}" >경상남도</option>
                                                <option th:value="경상북도"  th:selected="*{'경상북도' eq studyCity}" >경상북도</option>
                                                <option th:value="대전광역시"  th:selected="*{'대전광역시' eq studyCity}" >대전광역시</option>
                                                <option th:value="충청남도"  th:selected="*{'충청남도' eq studyCity}" >충청남도</option>
                                                <option th:value="충청북도"  th:selected="*{'충청북도' eq studyCity}" >충청북도</option>
                                                <option th:value="전라남도"  th:selected="*{'전라남도' eq studyCity}" >전라남도</option>
                                                <option th:value="전라북도"  th:selected="*{'전라북도' eq studyCity}" >전라북도</option>
                                                <option th:value="광주광역시"  th:selected="*{'광주광역시' eq studyCity}" >광주광역시</option>
                                                <option th:value="강원도"  th:selected="*{'강원도' eq studyCity}" >강원도</option>
                                                <option th:value="울산광역시"  th:selected="*{'울산광역시' eq studyCity}" >울산광역시</option>
                                                <option th:value="제주특별자치도"  th:selected="*{'제주특별자치도' eq studyCity}" >제주특별자치도</option>
                                                <option th:value="세종특별자치시"  th:selected="*{'세종특별자치시' eq studyCity}" >세종특별자치시</option>
                                                <th:block th:if="*{studyCity=='no'}">
                                                    <input type="hidden" name="studyCity" id="studyCity_1j" value="no">
                                                </th:block>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="question">
                                    <p>- 스터디 설명</p>
                                </div>
                                <div class="answer" style="display: block;"><textarea id="contents" name="studyContent" th:placeholder="*{studyContent}" maxlength="1000" th:text="*{studyContent}"
                                ></textarea></div>
                                <!-- <div class="alimTalkCheckBox">
                                    <div class="labelChecbox">
                                        <div class="question">
                                            <p>- 카카오톡 알림톡 수신<span>신규 지원자/질문 등록 시 카카오알림톡이 발송됩니다.</span></p>
                                        </div>
                                        <div class="answer"><label class="switch"><input type="checkbox" value="true"
                                                    checked=""><span class="slider round"></span></label></div>
                                    </div>
                                </div> -->
                                <div class="btnWrap projectMgmgtBtnWrap">
                                    <button type="button"
                                            class="blackBtn proejectModifyBtn">업데이트
                                    </button>
                                    <button type="button"
                                            class="btnBlue proejectCloseBtn">스터디 포기
                                    </button>
                                </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- project detail wrap END -->
                </div>
                <div class="projectRightInfoContetns">
                    <div class="projectRightInfoWrap">
                        <div class="basicInfoWrap infoWrap">
                            <p class="checkboxTit">리더 정보</p>
                            <div class="leaderInfo">
                                <div class="userIdWrap">
                                    <div class="leaderImg"><a class="leaderImgWrap"
                                                              th:href="@{/neosUser/info/yes(userId=${writer.userId})}"><img
                                            width="20px"
                                            height="20px"
                                            th:src="${writer.userFile}"
                                            alt="추추추"></a>
                                    </div>
                                    <div class="rightBox">
                                        <h2 class="userIdTxt"><span th:text="${writer.userNickName}"></span>
                                            <div class="idHoverMenu">
                                                <ul>
                                                    <li><a th:href="@{/neosUser/info/yes(userId=${writer.userId})}">프로필 상세</a></li>
                                                    <li class="chatReader"><a>1:1 대화</a></li>
                                                </ul>
                                            </div>
                                        </h2>
                                        <span
                                                class="proejctReactionRateTxt"><span class="leftTxt">대학교 : </span><span
                                                class="rightTxt" th:text="${writer.collegeName}">
                                                    </span></span>
                                        <div class="heartAndShareWrap"><a class="heartWrap viewCount">
                                            <svg
                                                    xmlns="http://www.w3.org/2000/svg" width="20" height="20"
                                                    viewBox="0 0 16 16" fill="none">
                                                <path
                                                        d="M8 2.48901C6.27297 2.48988 4.58622 3.01069 3.15934 3.98365C1.73246 4.9566 0.631569 6.33661 0 7.94401C0.630962 9.55179 1.73172 10.9321 3.15875 11.9051C4.58577 12.878 6.27285 13.3985 8 13.3985C9.72715 13.3985 11.4142 12.878 12.8413 11.9051C14.2683 10.9321 15.369 9.55179 16 7.94401C15.3684 6.33661 14.2675 4.9566 12.8407 3.98365C11.4138 3.01069 9.72703 2.48988 8 2.48901V2.48901ZM8 11.58C7.28087 11.58 6.57788 11.3668 5.97995 10.9672C5.38201 10.5677 4.91597 9.99984 4.64077 9.33545C4.36557 8.67106 4.29357 7.93998 4.43386 7.23466C4.57416 6.52935 4.92046 5.88148 5.42896 5.37297C5.93746 4.86447 6.58534 4.51817 7.29065 4.37788C7.99597 4.23758 8.72704 4.30959 9.39144 4.58479C10.0558 4.85999 10.6237 5.32602 11.0232 5.92396C11.4228 6.5219 11.636 7.22488 11.636 7.94401C11.6355 8.90818 11.2522 9.8327 10.5705 10.5145C9.88869 11.1962 8.96416 11.5795 8 11.58ZM8 5.76201C7.56844 5.76201 7.14657 5.88999 6.78775 6.12975C6.42892 6.36951 6.14925 6.71029 5.9841 7.109C5.81894 7.50771 5.77573 7.94643 5.85993 8.3697C5.94412 8.79297 6.15194 9.18176 6.45709 9.48692C6.76225 9.79208 7.15105 9.99989 7.57431 10.0841C7.99758 10.1683 8.43631 10.1251 8.83502 9.95992C9.23372 9.79477 9.57451 9.5151 9.81427 9.15627C10.054 8.79744 10.182 8.37557 10.182 7.94401C10.1824 7.65736 10.1262 7.37344 10.0167 7.10853C9.90719 6.84362 9.74648 6.60292 9.54379 6.40023C9.34109 6.19753 9.10039 6.03682 8.83548 5.9273C8.57057 5.81779 8.28666 5.76162 8 5.76201Z"
                                                        fill="#A4A4B4"></path>
                                            </svg>
                                            <span th:text="*{studyView}"></span></a>
                                            <a class="heartWrap">
                                                <div class="favoriteSymbol">
                                                    <th:block th:if="${#arrays.contains(study.followerNumberList,session.loginUser)}">
                                                        <div class="favorite rightFavorite active"></div>
                                                    </th:block>
                                                    <th:block th:unless="${#arrays.contains(study.followerNumberList,session.loginUser)}">
                                                        <div class="favorite rightFavorite"></div>
                                                    </th:block>


                                                </div>
                                                <span class="favoriteNumber" th:text="*{followTotal}"></span>
                                            </a>
                                            <a class="shareWrap"></a></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="projectBeginDate infoWrap">
                            <p class="checkboxTit">스터디
                                <!-- -->기간
                            </p>
                            <h3 class="tabTxt">
                                <span th:text="*{studyStartDate}"></span>
                                <span> ~ </span>
                                <span th:text="*{studyEndDate}"></span>
                                <span>( </span><span th:text="${minusDay}"></span><span>일 )</span>
                            </h3>
                        </div>
                        <div class="projectBeginDate infoWrap">
                            <h3 class="checkboxTit">스터디
                                <!-- -->
                                <!-- -->분야
                            </h3>
                            <h3 class="tabTxt"><span th:text="*{studyType}"></span><span>과목</span><span> / </span><span th:text="*{studyKeyword}"></span></h3>
                        </div>
                        <div class="infoWrap watchedLetsplerWrap">
                            <h3 class="checkboxTit">구독중인 네오스인&nbsp;<span th:text="*{followTotal}"></span><span>
                                &nbsp명
                                    </span></h3>
                            <ul>

                                <th:block th:each="follower : *{follower}">
                                    <li class="hoverNameWrap" th:object="${follower}">
                                        <div class="hoverName">
                                            <p><span>[L</span><span th:text="*{userNeosPowerLevel}"></span><span style="margin-right: 4px!important;">]</span><span th:text="*{userNickName}"></span></p>
                                        </div>
                                        <div class="imgWrap"><img th:src="*{userFile}" alt="sun9hyun"></div>
                                    </li>
                                </th:block>
                            </ul>
                            <th:block th:if="${#arrays.contains(study.followerNumberList,session.loginUser)}">
                                <button class="subscribeBtn">구독하기</button>
                            </th:block>
                            <th:block th:unless="${#arrays.contains(study.followerNumberList,session.loginUser)}">
                                <button class="subscribeBtn active">구독하기</button>
                            </th:block>

                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <!-- 관리 페이지 END-->

    <!-- 관련 모달 START-->
    <div class="modalWrapOpen">
        <!--업데이트 완료-->
        <div class="modalWrap modal1">
            <p class="modalTit">정보를 수정완료했습니다.</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <div class="modalContent">
                <p></p>
            </div>
            <div class="btnWrap singleBtnWrap">
                <button class="btn blueBtn postUpdate">확인</button>
            </div>
        </div>

        <!--스터디 구독 버튼 클리 시, 상세보기 전체 공통으로 삭제 X-->
        <div class="modalWrap modal2">
            <p class="modalTit studyTit">삶에 활력을 주는 Done List을</p>
            <p class="modalTit">구독하시겠습니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <div class="modalContent">
                <p>구독하신 스터디 목록은 마이페이지에서 확인하실 수 있습니다.</p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <button class="btn whiteBtn">아니요</button>
                <button class="btn blueBtn okBtn">예</button>
            </div>
        </div>
        <!--업데이트 완료_제목 조건 미충족-->
        <div class="modalWrap modal3">
            <p class="modalTit">스터디 주제를 적어주세요</p>
            <button class="closeBtn"><img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close"
                                          class="closeBtnImg"></button>
            <div class="modalContent"><p>스터디 주제를 3~15자 이내로 적어주세요</p></div>
            <div class="btnWrap singleBtnWrap">
                <button class="btn blueBtn">확인</button>
            </div>
        </div>

        <!--업데이트 완료_키워드 조건 미충족-->
        <div class="modalWrap modal4">
            <p class="modalTit">스터디 키워드를 적어주세요</p>
            <button class="closeBtn"><img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close"
                                          class="closeBtnImg"></button>
            <div class="modalContent">
                <p>한개 이상의 키워드가 필요합니다</p>
            </div>
            <div class="btnWrap singleBtnWrap">
                <button class="btn blueBtn">확인</button>
            </div>
        </div>

        <!--업데이트 완료_내용 조건 미충족-->
        <div class="modalWrap modal5">
            <p class="modalTit">원하는 내용으로 스터디 설명을 바꿔주세요</p>
            <button class="closeBtn"><img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close"
                                          class="closeBtnImg"></button>
            <div class="modalContent"><p></p></div>
            <div class="btnWrap singleBtnWrap">
                <button class="btn blueBtn">확인</button>
            </div>
        </div>

        <!--스터디 포기-->
        <div class="modalWrap modal6">
            <p class="modalTit">잠깐만! 완전 삭제하시겠습니니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <div class="modalContent">
                <p>스터디에 부여된 포인트/경험치가</p>
                <p>모두 회수되며 재지급되지 않습니다.</p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <form th:action="@{/study/delete(studyId=${study.studyId})}" method="post" id="DeleteForm">
                <button type="button" class="btn whiteBtn">아니요</button>
                <button type="button" class="btn blueBtn studyDeleteBtn">예</button>
                </form>
            </div>
        </div>

        <!--멤버 관리 모두 멤버로 승인할 경우-->
        <div class="modalWrap modal7">
            <p class="modalTit">모든 지원자를 승인하시겠습니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <div class="modalContent">
                <p>모든 지원자가 이 공간에 접근할 수 있게 됩니다</p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <button class="btn whiteBtn">아니요</button>
                <button class="btn blueBtn okBtn">예</button>
            </div>
        </div>

        <!--멤버 관리 지원자 탈락 시킬 경우-->
        <div class="modalWrap modal8">
            <p class="modalTit">해당 지원자를 거절하시겠습니까?</p>
            <form th:action="@{/study-member/rejection}" method="post" id="rejectForm">
                <input type="hidden" name="studyId" id="rejectStudyId" th:value="${study.studyId}">
                <input type="hidden" name="studySupporterId" id="rejectUserNumber" value="">
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <div class="modalContent">
                <p></p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <button type="button" class="btn whiteBtn">아니요</button>
                <button type="button" class="btn blueBtn rejectBtn_1j">예</button>
            </div>
            </form>
        </div>

        <!--해당 지원자 승인-->
        <div class="modalWrap modal50">
            <p class="modalTit">해당 지원자를 승인하시겠습니까?</p>
            <form th:action="@{/study-member/ok}" method="post" id="okForm">
                <input type="hidden" name="studyId" id="okStudyId" th:value="${study.studyId}">
                <input type="hidden" name="studySupporterId" id="okUserNumber" value="">
                <input type="hidden" name="user.userId" id="okUserId" value="">
                <button class="closeBtn">
                    <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
                </button>
                <div class="modalContent">
                    <p></p>
                </div>
                <div class="btnWrap doubleBtnWrap">
                    <button type="button" class="btn whiteBtn">아니요</button>
                    <button type="button" class="btn blueBtn okBtn_1j">예</button>
                </div>
            </form>
        </div>

        <!--모집 종료하는 경우-->
        <div class="modalWrap modal9">
            <p class="modalTit">모집을 종료하시겠습니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <form th:action="@{/study/support-end}" method="post" id="supportEndForm">
                <input type="hidden" name="studyId" th:value="${study.studyId}">
            <div class="modalContent">
                <p>모집 확정된 인원으로 인원수가 조정됩니다.</p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <button class="btn whiteBtn">아니요</button>
                <button class="btn blueBtn supportBye">예</button>
            </div>
            </form>
        </div>

        <!--인원을 추가하는 경우-->
        <div class="modalWrap modal10">
            <p class="modalTit">스터디 인원을 추가합니다</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <form th:action="@{/study/support-update}" method="post" id="supportForm_1j">
                <input type="hidden" name="studyId" th:value="${study.studyId}">
            <select name="studySupportTotal" id="studySupportTotal">
                <!-- 최대인원 수 - 현재 인원 수 제외하고 보여야 한다.-->
                <option value="1" th:if="${study.studySupport<=8}">1명</option>
                <option value="2" th:if="${study.studySupport<=7}">2명</option>
                <option value="3" th:if="${study.studySupport<=6}">3명</option>
                <option value="4" th:if="${study.studySupport<=5}">4명</option>
                <option value="5" th:if="${study.studySupport<=4}">5명</option>
                <option value="6" th:if="${study.studySupport<=3}">6명</option>
                <option value="7" th:if="${study.studySupport<=2}">7명</option>
            </select>
            <div class="btnWrap doubleBtnWrap">
                <button type="button" class="btn whiteBtn">아니요</button>
                <button type="button" class="btn blueBtn studySupportCountModify">예</button>
            </div>
            </form>
        </div>

        <!--리더를 변경 하는 경우-->
        <div class="modalWrap modal11">
            <p class="modalTit">스터디 모임의 리더를 변경시겠습니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <select>
                <!-- 현재 참여 멤버를 보여줘야 한다.-->
                <option value="1">sun9hyun</option>
                <option value="2">ROSA</option>
            </select>
            <div class="btnWrap doubleBtnWrap">
                <button class="btn whiteBtn">아니요</button>
                <button class="btn blueBtn okBtn">예</button>
            </div>
        </div>

        <!--기존 멤버를 방출 하는 경우-->
        <div class="modalWrap modal12">
            <p class="modalTit">해당 멤버를 스터디에서 방출하시겠습니까?</p>
            <button class="closeBtn">
                <img loading="lazy" src="https://letspl.me/assets/icon/ic-close.svg" alt="close" class="closeBtnImg">
            </button>
            <form th:action="@{/study-member/release}" method="post" id="releaseForm">
                <input type="hidden" name="studyId" th:value="${study.studyId}">
                <input type="hidden" name="studyMemberId" id="studyMemberId">
            <div class="modalContent">
                <p></p>
            </div>
            <div class="btnWrap doubleBtnWrap">
                <button type="button" class="btn whiteBtn">아니요</button>
                <button type="button" class="btn blueBtn releaseOk">예</button>
            </div>
            </form>
        </div>

    </div>
    <!-- 관련 모달 END-->

    <div th:replace="/app/fix/chattingAll.html :: chattingAll"></div>
    <div th:replace="/app/fix/footer.html :: footer"></div>
</body>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script src="/js/study/studyManagement.js"></script>
<script src="/js/study/modalStudy.js"></script>
<script src="/js/fix/chatting.js"></script>
<script src="/js/fix/login.js"></script>
<script src="/js/fix/header.js"></script>
<script th:inline="javascript">
    let userSessionId = [[${session.loginUser}]];
    let studyId = [[${study.studyId}]];
    let studyName = [[${study.studyTitle}]]
</script>
<script src="/js/study/detailBack/follow.js"></script>
<script src="/js/study/detailBack/management.js"></script>
</html>